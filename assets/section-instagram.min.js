var BlsInstagramShopify={init:function(){this.loadInstagram()},loadInstagram:function(){document.querySelectorAll(".bls__instagram-api").forEach(e=>{if(null!=e){const{accessToken:i,images:a,igType:t}=e?.dataset;i?this.initInstagram(e,i,a,t):console.warn("Access Token is invalid!")}})},initInstagram:async function(e,i,a,t){let s=void 0!==a?a:4;const r=await this.fetchCache(`https://graph.instagram.com/me/media?fields=caption,id,media_type,media_url,permalink,thumbnail_url,timestamp,username&access_token=${i}`,{cache:"force-cache"});if(r)return r.error?console.error("Instagram error: ",r.error?.message):void("carousel"===t?this.initCarousel(r.data,e,s):this.initGrid(r.data,e,s))},fetchCache:function(e,i){let a=void 0!==i?i:rdc;const t=new Map;return new Promise((i,s)=>{if(t.get(e))return i(t.get(e));fetch(e,a).then(a=>{if(a.ok){const s=a.json();return i(s),t.set(e,s),s}s(a)}).catch(s)})},initCarousel:function(e,i,a){e.filter(e=>"IMAGE"===e.media_type||"CAROUSEL_ALBUM"===e.media_type).slice(0,a).forEach(e=>{var a=document.createElement("div");a.classList.add("swiper-slide");var t=document.createElement("div"),s=document.createElement("div");s.classList.add("bls__instagram-item");var r=document.createElement("a"),d=document.createElement("span");d.classList.add("bls__instagram-icon"),t.classList.add("bls__responsive-image"),t.classList.add("bls_instagram-image"),t.classList.add("bls-image-js"),t.setAttribute("style","--aspect-ratio:1/1"),t.innerHTML+=`<img src="${e.media_url}" srcset="${e.media_url}&width=165 165w,${e.media_url}&width=330 330w,${e.media_url}&width=535 535w,${e.media_url}&width=750 750w,${e.media_url}&width=1000 1000w,${e.media_url}&width=1500 1500w,${e.media_url}&width=3000 3000w" sizes="(min-width: 1260px) 282px, (min-width: 990px) calc((100vw - 130px) / 4), (min-width: 750px) calc((100vw - 120px) / 3), calc((100vw - 35px) / 2)" loading="lazy" alt="instagram">`,r.setAttribute("href",e.permalink),r.appendChild(t),r.appendChild(d),s.appendChild(r),a.appendChild(s),i.querySelector(".swiper-wrapper").appendChild(a)}),BlsLazyloadImg.init()},initGrid:function(e,i,a){const t=i.querySelector(".bls__instagram-grid");if(t){const{spacing:r}=t?.dataset;i.setAttribute("style","--bs-gutter-x:"+r+"px");var s=Number(a);e.filter(e=>"IMAGE"===e.media_type||"CAROUSEL_ALBUM"===e.media_type).slice(0,s).forEach(e=>{var i=document.createElement("div");i.classList.add("bls__instagram-item");var a=document.createElement("a"),s=document.createElement("span");s.classList.add("bls__instagram-icon");var r=document.createElement("div");r.classList.add("bls__responsive-image"),r.classList.add("bls-image-js"),r.setAttribute("style","--aspect-ratio: 1/1"),r.classList.add("bls_instagram-image"),r.innerHTML+=`<img src="${e.media_url}" srcset="${e.media_url}&width=165 165w,${e.media_url}&width=330 330w,${e.media_url}&width=535 535w,${e.media_url}&width=750 750w,${e.media_url}&width=1000 1000w,${e.media_url}&width=1500 1500w,${e.media_url}&width=3000 3000w" sizes="(min-width: 1260px) 282px, (min-width: 990px) calc((100vw - 130px) / 4), (min-width: 750px) calc((100vw - 120px) / 3), calc((100vw - 35px) / 2)" loading="lazy" alt="instagram">`,a.setAttribute("href",e.permalink),a.appendChild(r),a.appendChild(s),i.appendChild(a),t.querySelector(".row").appendChild(i),BlsLazyloadImg.init()})}}};BlsInstagramShopify.init();