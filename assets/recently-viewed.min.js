"use strict";var BlsRVPageShopify={initRVItems:function(){if(-1==window.location.search.indexOf("page=")){const e=JSON.parse(localStorage.getItem("bls__recently-viewed-products"));this.init(e)}},init:function(e){const t=this,n=document.querySelector(".bls__rv-page-main"),o=n.querySelector(".bls__rv-no-product-js"),r=n.querySelector(".row");if(null===e||0===e.length)o&&o.classList.remove("d-none"),r&&r.classList.add("d-none"),t.skeletonFunction(0);else{r&&r.classList.remove("d-none");var l="";e.forEach((e,t,n)=>{Object.is(n.length-1,t)?l+=e.id:l+=e.id+"%20OR%20id:"});var i="?view=rv-products&type=product&options[unavailable_products]=last&q=id:"+l;fetch(`${window.routes.search_url}${i}`).then(e=>e.text()).then(r=>{const l=parser.parseFromString(r,"text/html");document.createElement("div").classList.add("row");const i=n.querySelector(".row");i&&i.remove();const s=l.querySelector(".bls__rv-page-main > .row");0!==e.length&&s?(n.innerHTML=l.querySelector(".bls__rv-page-main").innerHTML,t.skeletonFunction(700)):(t.skeletonFunction(0),o.classList.remove("d-none"))}).catch(e=>{console.error(e)}).finally(e=>{BlsColorSwatchesShopify.init(),BlsSubActionProduct.handleInitQuickviewAction(),BlsSubActionProduct.init(),BlsLazyloadImg.init(),BlsRVPageShopify.clearAll()})}},clearAll:function(){const e=document.querySelector(".bls__rv-page-main");if(e){if(!e.querySelector(".bls__clear-all-rvp"))return;e.querySelector(".bls__clear-all-rvp").addEventListener("click",function(){e.querySelector(".bls__clear-all-rvp").classList.add("d-none"),localStorage.removeItem("bls__recently-viewed-products"),BlsRVPageShopify.initRVItems()})}},skeletonFunction:function(e){window.setTimeout(function(){this.document.querySelector("skeleton-page")&&this.document.querySelector("skeleton-page").remove(),this.document.querySelector(".bls__rv-page-section-inner")&&this.document.querySelector(".bls__rv-page-section-inner").classList.remove("d-none")},e)}};BlsRVPageShopify.initRVItems();