{%- liquid
  assign st = section.settings
  assign container = st.container
  assign color_scheme = st.color_scheme
  assign heading = st.heading
  assign heading_border = st.heading_border
  assign description = st.description
  assign text_align = st.text_alignment
  assign enabled_animations = settings.animations_enabled

  assign spt_tablet = ''
  if st.padding_top > 50
    assign spt_tablet = ' spt-tablet'
  endif
  assign spt_mobile = ''
  if st.padding_top > 30
    assign spt_mobile = ' spt-mobile'
  endif
  assign spb_tablet = ''
  if st.padding_bottom > 50
    assign spb_tablet = ' spb-tablet'
  endif
  assign spb_mobile = ''
  if st.padding_bottom > 30
    assign spb_mobile = ' spb-mobile'
  endif
  assign reset_spacing = ''
  if st.reset_spacing
    assign reset_spacing = ' remove_spacing'
  endif
-%}

{%- capture style -%}
  --section-padding-top: {{ st.padding_top }}px; --section-padding-bottom: {{ st.padding_bottom }}px;
{%- endcapture -%}

<section
  class="color-{{ color_scheme }} gradient bls__section {{ spt_tablet }}{{ spb_tablet }}{{ spt_mobile }}{{ spb_mobile }}{{ reset_spacing }}"
  style="{{ style | strip | strip_newlines }}"
  id="{{ section.id }}"
  data-id="{{ section.id }}"
>
  {%- if heading != blank or description != blank -%}
    <div class="{{ container }} section-full">
      <div class="bls__section-header {{ text_align }}">
        {%- if heading != blank -%}
          <h2 class="bls__section-heading mb-5 {% if heading_border %}heading-border{% endif %} {% if enabled_animations %}scroll-trigger animate--slide-in{% endif %}">
            {{ heading }}
          </h2>
        {%- endif -%}
        {%- if description != blank -%}
          <div class="bls__section-des {% if enabled_animations %}scroll-trigger animate--slide-in{% endif %}">
            {{ description }}
          </div>
        {%- endif -%}
      </div>
    </div>
  {%- endif -%}

    <style>
      .bc {
        padding: 20px 0;
      }
      .bc__strip {
        display: flex;
        align-items: flex-start;
        gap: 0;
        padding: 10px 0;
      }
      .bc__group {
        display: flex;
        flex-direction: column;
        align-items: center;
        flex: 0 0 20%;
        width: 20%;
        padding: 0 10px;
        box-sizing: border-box;
      }
      .bc__label {
        font-size: 10px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--heading-color, #333);
        opacity: 0.5;
        margin-bottom: 12px;
        white-space: nowrap;
      }
      .bc__items {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: 12px;
      }
      .bc__item {
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #fff;
        border: 1px solid var(--border-color, #e8e8e8);
        border-radius: var(--btn-border-radius, 8px);
        overflow: hidden;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        width: 105px;
        height: 105px;
      }
      .bc__item:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.08);
      }
      .bc__item img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        padding: 10px;
      }
      /* Size variants for collage randomness */
      .bc__item--lg { width: 130px; height: 130px; }
      .bc__item--md { width: 105px; height: 105px; }
      .bc__item--sm { width: 85px; height: 85px; }

      @media (max-width: 749px) {
        .bc__strip {
          flex-wrap: wrap;
          justify-content: center;
          overflow-x: visible;
          gap: 20px;
        }
        .bc__group {
          flex: 0 0 100%;
          width: 100%;
          border-right: none;
          padding: 0 10px;
        }
        .bc__group:last-child {
          padding-bottom: 0;
        }
        .bc__items {
          flex-wrap: wrap;
          justify-content: center;
          gap: 10px;
          max-width: none;
        }
        .bc__item--lg { width: 100px; height: 100px; }
        .bc__item--md { width: 85px; height: 85px; }
        .bc__item--sm { width: 75px; height: 75px; }
      }
    </style>

    <div class="bc {% if enabled_animations %}scroll-trigger animate--slide-in{% endif %}">
      <div class="bc__strip">

        {%- comment -%} ── MAKEUP (5 brands) ── {%- endcomment -%}
        <div class="bc__group">
          <div class="bc__label">Makeup</div>
          <div class="bc__items">
            <div class="bc__item bc__item--lg">
              <img src="{{ 'brandimg-bobbi-brown.png' | file_img_url: '260x260' }}" alt="Bobbi Brown" loading="lazy">
            </div>
            <div class="bc__item bc__item--sm">
              <img src="{{ 'brandimg-dior.png' | file_img_url: '170x170' }}" alt="DIOR" loading="lazy">
            </div>
            <div class="bc__item bc__item--md">
              <img src="{{ 'brandimg-smashbox.png' | file_img_url: '210x210' }}" alt="Smashbox" loading="lazy">
            </div>
            <div class="bc__item bc__item--lg">
              <img src="{{ 'brandimg-huda-beauty.png' | file_img_url: '260x260' }}" alt="Huda Beauty" loading="lazy">
            </div>
            <div class="bc__item bc__item--md">
              <img src="{{ 'brandimg-mac.png' | file_img_url: '210x210' }}" alt="MAC" loading="lazy">
            </div>
          </div>
        </div>

        {%- comment -%} ── JEWELLERY (2 brands) ── {%- endcomment -%}
        <div class="bc__group">
          <div class="bc__label">Jewellery</div>
          <div class="bc__items">
            <div class="bc__item bc__item--md">
              <img src="{{ 'brandimg-onya.png' | file_img_url: '210x210' }}" alt="Onya" loading="lazy">
            </div>
            <div class="bc__item bc__item--lg">
              <img src="{{ 'brandimg-fiona-diamonds.png' | file_img_url: '260x260' }}" alt="Fiona Diamonds" loading="lazy">
            </div>
          </div>
        </div>

        {%- comment -%} ── FRAGRANCES (7 brands) ── {%- endcomment -%}
        <div class="bc__group">
          <div class="bc__label">Fragrances</div>
          <div class="bc__items">
            <div class="bc__item bc__item--sm">
              <img src="{{ 'brandimg-neesh-perfumes.png' | file_img_url: '170x170' }}" alt="Neesh Perfumes" loading="lazy">
            </div>
            <div class="bc__item bc__item--lg">
              <img src="{{ 'brandimg-kayali.png' | file_img_url: '260x260' }}" alt="Kayali" loading="lazy">
            </div>
            <div class="bc__item bc__item--md">
              <img src="{{ 'brandimg-fraghill.png' | file_img_url: '210x210' }}" alt="Fraghill" loading="lazy">
            </div>
            <div class="bc__item bc__item--md">
              <img src="{{ 'brandimg-bvlgari.png' | file_img_url: '210x210' }}" alt="BVLGARI" loading="lazy">
            </div>
            <div class="bc__item bc__item--sm">
              <img src="{{ 'brandimg-ferragamo.png' | file_img_url: '170x170' }}" alt="Ferragamo" loading="lazy">
            </div>
            <div class="bc__item bc__item--md">
              <img src="{{ 'brandimg-elle.png' | file_img_url: '210x210' }}" alt="Elle" loading="lazy">
            </div>
          </div>
        </div>

        {%- comment -%} ── HAIR (2 brands) ── {%- endcomment -%}
        <div class="bc__group">
          <div class="bc__label">Hair Extensions</div>
          <div class="bc__items">
            <div class="bc__item bc__item--md">
              <img src="{{ 'brandimg-nish-hair.png' | file_img_url: '210x210' }}" alt="Nish Hair" loading="lazy">
            </div>
            <div class="bc__item bc__item--sm">
              <img src="{{ 'brandimg-hairoriginals.png' | file_img_url: '170x170' }}" alt="HairOriginals" loading="lazy">
            </div>
          </div>
        </div>

        {%- comment -%} ── SKINCARE (3 brands) ── {%- endcomment -%}
        <div class="bc__group">
          <div class="bc__label">Skincare</div>
          <div class="bc__items">
            <div class="bc__item bc__item--md">
              <img src="{{ 'brandimg-plum.png' | file_img_url: '210x210' }}" alt="Plum" loading="lazy">
            </div>
            <div class="bc__item bc__item--lg">
              <img src="{{ 'brandimg-dot-and-key.png' | file_img_url: '260x260' }}" alt="Dot & Key" loading="lazy">
            </div>
            <div class="bc__item bc__item--sm">
              <img src="{{ 'brandimg-soyu.png' | file_img_url: '170x170' }}" alt="Soyu" loading="lazy">
            </div>
          </div>
        </div>

      </div>
    </div>
</section>

{% schema %}
{
  "name": "Brands Collage",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Top Brands"
    },
    {
      "type": "checkbox",
      "id": "heading_border",
      "label": "Show heading border",
      "default": false
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        { "value": "text-left", "label": "Left" },
        { "value": "text-center", "label": "Center" },
        { "value": "text-right", "label": "Right" }
      ],
      "default": "text-center"
    },
    {
      "type": "select",
      "id": "container",
      "label": "Container",
      "options": [
        { "value": "container", "label": "Default" },
        { "value": "container-fluid", "label": "Fluid" },
        { "value": "strecth-width", "label": "Stretch" },
        { "value": "full-width", "label": "Full width" }
      ],
      "default": "container"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "default-color-scheme"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 50,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 50,
      "unit": "px"
    },
    {
      "type": "checkbox",
      "id": "reset_spacing",
      "label": "Remove spacing",
      "default": false
    }
  ],
  "presets": [
    {
      "name": "Brands Collage"
    }
  ]
}
{% endschema %}
